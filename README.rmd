---
output: github_document
---

```{r, include=FALSE}
key <- "68a07a49af78878c8c7c0ad2980934534adbed4b"
```


# osur: Package to import osu data to R

## Installation

```{r install, eval=FALSE}
# Install from GitHub
devtools::install_github("its-gazza/osur")
```

## Usage

```{r load osur, include=FALSE}
library(osur)
library(httr)
library(tidyverse)
library(jsonlite)
library(magrittr)
library(knitr)
```


### get_player

**Overview**  
Retrieve general player info

```{r get_player}
get_player(user = "peppy", 
           key = key, # osu-api key
           type = "string") %>% 
  kable()
```

### get_player_pp

**Overview**  
Retrieve player pp info

```{r get_player_pp}
get_player_pp(user = "peppy", 
              key = key, # osu-api key
              type = "string", 
              limit = 5) %>% # Select top 5, maximum is 100
  kable()
```

### get_beatmap

**Overview**  
Get beatmap info from osu server

```{r get_beatmap}
get_beatmap(beatmap_id = 890190,
            key = key) %>% 
  kable()
```

### mod_detect

**Overview**  
Convert numeric mod to a character list of mod

```{r mod_detect}
mod_detect(value = 80)
```



### mod_convert

**Overview**  
Convert difficulty base on mods  

This will convert the following difficulties:  
*  Overall difficulty (diff_overall)
*  Size difficulty (diff_size)
*  Drain difficulty (diff_drain)
*  Approach rate difficulty (diff_approach)

```{r mod_convert}
mod_convert(beatmap_id = 804164, 
            enable_mod = 64, # 64 = DT
            key = key) %>% 
  kable()
```

Note only `diff_overall`, `diff_size`, `diff_drain`, `diff_approach` will be changed

### ar_convert

**Overview**  
Convert AR base on mod  

```{r ar_convert}
ar_convert(ar = 7, 
           enable_mod = 64) # 64 = DT
```


### map_acc

**Overview**  
Calculate map accuracy

```{r map_acc}
map_acc(count50 = 0,
        count100 = 27,
        count300 = 2565)
```

## For more information
*  osu-api: https://github.com/ppy/osu-api/wiki
*  Mod value calculation: https://osu.ppy.sh/help/wiki/Beatmap_Editor/Song_Setup  
*  Difficulty calculation: https://osu.ppy.sh/help/wiki/Game_Modifiers
